mixin docsnav(docssection)
	.visible-xs: ul.nav-toggle
		each item in docsnav
			li(class=docssection.value == item.value ? 'active' : null)
				a(href=item.path).nav-heading= item.labelsm

	nav.docs-sidebar.hidden-xs
		ul.sidebar-nav
			li(class=docssection.value == 'introduction' ? 'active' : null)
				a(href='/docs').nav-heading Welcome
			each item in docsnav
				li(class=docssection.value == item.value ? 'active' : null)
					a(href=item.path).nav-heading= item.label
		hr
		if docssection.value != 'introduction'
			ul.sidebar-nav
				each item in docsnav						
					if (item.value == docssection.value ) && docssection.override == 'fetch'
						ul
							//- test links
							li.nav-label: a(href='/fetch') Fetch Examples
							li: a(href="/fetch/noscript") noscript
							li: a(href="/fetch/body") body noscript
							li: a(href="/fetch/text") clean text
							li: a(href="/fetch/json/code") json code
							li: a(href="/fetch/fail") failure 
							li: a(href="/fetch/lost-link") should 404  
							li: a(href="/docs/learn/reference").notspa should reload
							li: a(href="https://github.com/snowkeeper/keystonejs-site/blob/qstart/content/en/pages/docs/getting-started.jade") should leave
					if (item.value == docssection.value ) && item.value == 'learn'
						ul
							li.nav-label: a(href='/docs/learn') Learn
							li: a(href='/docs/learn/ES2015') ES2015 App
							li: a(href='/docs/learn/code') Code Examples
							li: a(href='/docs/learn/resources') Resources
							li: a(href='/docs/learn/kb') Knowledge Base
							li: a(href='/docs/learn/heroku') Deploy to Heroku
							
							//- reference links
							li.nav-label: a(href='/docs/learn/reference/readme') Reference Materials
							li: a(href='/docs/learn/reference/readme') README  
							li: a(href='/docs/learn/reference/roadmap') Roadmap   
							li: a(href='/docs/learn/reference/history') History   
							li: a(href='/docs/learn/reference/contributing') Contributing
							li: a(href='/docs/learn/reference/coding-standards') Coding Standards
					
					if (item.value == docssection.value ) && item.value == 'getting-started'
						ul
							li.nav-label: a(href='#introduction') Introduction
							li: a(href='#introduction-prerequisites') Prerequisites
							li: a(href='#introduction-productionvsdevelopment') Production vs Development
							
							li.nav-label: a(href='#gettingstarted') Getting Started
							li: a(href='#gettingstarted-usingyeoman') Using the Yeoman Generator
							li: a(href='#gettingstarted-startinganewproject') Starting a new project
							li: a(href='#gettingstarted-projectstructure') Project Structure
							
							li.nav-label: a(href='#models') Models
							li: a(href='#models-authentication') Authentication and Session Management
							
							li.nav-label: a(href='#routesviews') Routes &amp; Views
							li: a(href='#routesviews-settingup') Setting up your Routes and Middleware
							li: a(href='#routesviews-middleware') Common Route Middleware
							li: a(href='#routesviews-firstview') Your first View
							li: a(href='#routesviews-templates') Templates
							li: a(href='#routesviews-publicassets') Public Assets
							
							li.nav-label: a(href='#runningyourapp') Running your App
							li: a(href='#runningyourapp-writingupdates') Writing Updates
							li: a(href='#runningyourapp-startingkeystone') Starting Keystone
							li: a(href='#runningyourapp-nextstep') Next Steps
							
					if (item.value == docssection.value ) && item.value == 'configuration'
						ul
							li.nav-label: a(href='#options') Keystone Options
							li: a(href='#options-concepts') Setting Options
							li: a(href='#options-project') Project Options
							li: a(href='#options-server') Web Server Options
							li: a(href='#options-ssl') SSL Options
							li: a(href='#options-unix-socket') Unix Socket Options
							li: a(href='#options-database') Database and User Auth Options
							li: a(href='#options-ui') Admin UI Options
							li.nav-label: a(href='#services') Services
							li: a(href='#services-google-analytics') Google Analytics
							li: a(href='#services-google-maps') Google Maps
							li: a(href='#services-amazons3') Amazon S3
							li: a(href='#services-azure') Windows Azure Storage
							li: a(href='#services-cloudinary') Cloudinary
							li: a(href='#services-embedly') Embed.ly
							li: a(href='#services-mandrill') Mandrill
							li.nav-label: a(href='#updates') Application Updates
							li.nav-label: a(href='#headless') Disabling the Admin UI
					if (item.value == docssection.value ) && item.value == 'database'
						ul
							li.nav-label: a(href='#concepts') Concepts
							li.nav-label: a(href='#lists') Lists
							li: a(href='#lists-usage') Usage
							li: a(href='#lists-example') Example
							li: a(href='#lists-options') List Options
							li: a(href='#lists-plugins') Schema Plugins
							li: a(href='#lists-querying') Querying Data
							li: a(href='#lists-paginate') Pagination Querying
							li: a(href='#lists-creating') Creating Items
							li: a(href='#lists-deleting') Deleting Items
							li.nav-label: a(href='#headings') Headings
							li.nav-label: a(href='#fields') Fields
							li: a(href='#fields-overview') Overview
							li: a(href='#fields-options') Field Options
							li: a(href='#fields-conditional') Field Conditionals
							li: a(href='#fields-watching') Field Watching
							li: a(href='#fields-underscoremethods') Underscore Methods
							li.nav-label: a(href='#relationships') Relationships
							li: a(href='#relationship-fields') Relationship Fields
							li: a(href='#relationship-definitions') Relationship Definitions
							li: a(href='#relationship-queries') Loading related items
							li.nav-label: a(href='#fieldtypes') Field Types
							li: a(href='#fieldtypes-boolean') Boolean
							li: a(href='#fieldtypes-code') Code
							li: a(href='#fieldtypes-color') Color
							li: a(href='#fieldtypes-date') Date
							li: a(href='#fieldtypes-datetime') Datetime
							li: a(href='#fieldtypes-email') Email
							li: a(href='#fieldtypes-html') Html
							li: a(href='#fieldtypes-key') Key
							li: a(href='#fieldtypes-location') Location
							li: a(href='#fieldtypes-markdown') Markdown
							li: a(href='#fieldtypes-money') Money
							li: a(href='#fieldtypes-name') Name
							li: a(href='#fieldtypes-number') Number
							li: a(href='#fieldtypes-numberarray') Numberarray
							li: a(href='#fieldtypes-password') Password
							li: a(href='#fieldtypes-select') Select
							li: a(href='#fieldtypes-text') Text
							li: a(href='#fieldtypes-textarea') Textarea
							li: a(href='#fieldtypes-textarray') Textarray
							li: a(href='#fieldtypes-url') Url
							li: a(href='#fieldtypes-azurefile') AzureFile
							li: a(href='#fieldtypes-cloudinaryimage') CloudinaryImage
							li: a(href='#fieldtypes-cloudinaryimages') CloudinaryImages
							li: a(href='#fieldtypes-embedly') Embedly
							li: a(href='#fieldtypes-localfile') LocalFile
							li: a(href='#fieldtypes-s3file') S3 File
		
							
