
#### Changes to express application and mounting

**WIP**

The mounting process has been rewritten for modularity and clarity. This may introduce some breaking changes if your app has been attaching the Keystone Admin UI to a nonstandard express app (i.e. not using `Keystone.start()`, but should make things simpler going forward.

For a working preview of where it is going, see https://github.com/keystonejs/keystone-test-project/blob/master/admin.js

#### Changed

* `keystone.get('express session')` has been replaced by `keystone.expressSession`
* Session initialisation middleware is now executed before the body parser to allow for the Admin UI to include its own bodyParser implementation
* IP Restrictions middleware is now processed first, which means that static assets will now respect restrictions (previously this only restricted routes)

#### Removed

* `keystone.static` has been removed (replacement TBA, see `admin/server`)
* `keystone.mount` has been removed (replaced by more granular methods, see `admin/server`)
* `keystone.bindEmailTestRoutes` and `keystone.set('email tests')` support (was this actually being used by anyone? let me know - @jedwatson)

#### Mongoose 4

The bundled version of Mongoose has been updated from 3.x to 4.x. Please review the [Migration Guide](http://mongoosejs.com/docs/migration.html) and [Release Notes](https://github.com/Automattic/mongoose/wiki/4.0-Release-Notes) for more information.
